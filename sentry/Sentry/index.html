<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Sentry (sentry.Sentry)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">sentry</a> &#x00BB; Sentry</nav><h1>Module <code>Sentry</code></h1></header><div class="spec module" id="module-Breadcrumb"><a href="#module-Breadcrumb" class="anchor"></a><code><span class="keyword">module</span> <a href="Breadcrumb/index.html">Breadcrumb</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Client"><a href="#module-Client" class="anchor"></a><code><span class="keyword">module</span> <a href="Client/index.html">Client</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Config"><a href="#module-Config" class="anchor"></a><code><span class="keyword">module</span> <a href="Config/index.html">Config</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Context"><a href="#module-Context" class="anchor"></a><code><span class="keyword">module</span> <a href="Context/index.html">Context</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Dsn"><a href="#module-Dsn" class="anchor"></a><code><span class="keyword">module</span> <a href="Dsn/index.html">Dsn</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Event"><a href="#module-Event" class="anchor"></a><code><span class="keyword">module</span> <a href="Event/index.html">Event</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Exception"><a href="#module-Exception" class="anchor"></a><code><span class="keyword">module</span> <a href="Exception/index.html">Exception</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Platform"><a href="#module-Platform" class="anchor"></a><code><span class="keyword">module</span> <a href="Platform/index.html">Platform</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Sdk"><a href="#module-Sdk" class="anchor"></a><code><span class="keyword">module</span> <a href="Sdk/index.html">Sdk</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Severity_level"><a href="#module-Severity_level" class="anchor"></a><code><span class="keyword">module</span> <a href="Severity_level/index.html">Severity_level</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-with_dsn"><a href="#val-with_dsn" class="anchor"></a><code><span class="keyword">val</span> with_dsn : <a href="Dsn/index.html#type-t">Dsn.t</a> <span>&#45;&gt;</span> <span>(unit <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>with_dsn dsn f</code> overrides the default DSN (from the environment variable <code>SENTRY_DSN</code>) within the execution of <code>f</code></p></dd></dl><dl><dt class="spec value" id="val-with_context"><a href="#val-with_context" class="anchor"></a><code><span class="keyword">val</span> with_context : <a href="Context/index.html#type-t">Context.t</a> <span>&#45;&gt;</span> <span>(unit <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>with_context f</code> sets the current thread-local context and runs <code>f</code> with it.</p></dd></dl><dl><dt class="spec value" id="val-with_new_context"><a href="#val-with_new_context" class="anchor"></a><code><span class="keyword">val</span> with_new_context : <span>?&#8288;tags:<span><span>(string * string)</span> list</span></span> <span>&#45;&gt;</span> <span>(<a href="Context/index.html#type-t">Context.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Like <code>with_new_context</code> but creates the new context for you as a copy of the current context. <code>~tags</code> will be merged into the new context.</p></dd></dl><dl><dt class="spec value" id="val-set_environment"><a href="#val-set_environment" class="anchor"></a><code><span class="keyword">val</span> set_environment : string <span>&#45;&gt;</span> unit</code></dt><dd><p>Override the environment in the current context</p></dd></dl><dl><dt class="spec value" id="val-set_release"><a href="#val-set_release" class="anchor"></a><code><span class="keyword">val</span> set_release : string <span>&#45;&gt;</span> unit</code></dt><dd><p>Override the release in the current context</p></dd></dl><dl><dt class="spec value" id="val-set_server_name"><a href="#val-set_server_name" class="anchor"></a><code><span class="keyword">val</span> set_server_name : string <span>&#45;&gt;</span> unit</code></dt><dd><p>Override the server name in the current context</p></dd></dl><dl><dt class="spec value" id="val-merge_tags"><a href="#val-merge_tags" class="anchor"></a><code><span class="keyword">val</span> merge_tags : <span><span>(string * string)</span> list</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Merge tags into the current context</p></dd></dl><dl><dt class="spec value" id="val-add_breadcrumb"><a href="#val-add_breadcrumb" class="anchor"></a><code><span class="keyword">val</span> add_breadcrumb : <a href="Breadcrumb/index.html#type-t">Breadcrumb.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Add a breadcrumb to the current context</p></dd></dl><dl><dt class="spec value" id="val-capture_message"><a href="#val-capture_message" class="anchor"></a><code><span class="keyword">val</span> capture_message : <span>?&#8288;tags:<span><span>(string * string)</span> list</span></span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dd><p><code>capture_message ?tags ?dsn message</code> uploads a message to Sentry using the given <code>dsn</code> (or looking it up in the environment).</p><p>If you pass <code>tags</code>, it will be as if you called <code>with_tags</code> before this function.</p></dd></dl><dl><dt class="spec value" id="val-capture_exception"><a href="#val-capture_exception" class="anchor"></a><code><span class="keyword">val</span> capture_exception : <span>?&#8288;tags:<span><span>(string * string)</span> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;message:string</span> <span>&#45;&gt;</span> exn <span>&#45;&gt;</span> unit</code></dt><dd><p><code>capture_exception ?dsn ?message e</code> records the backtrace from <code>e</code> and an optional message and uploads it to Sentry.</p><p>If you pass <code>tags</code>, it will be as if you called <code>with_tags</code> before this function.</p></dd></dl><dl><dt class="spec value" id="val-capture_error"><a href="#val-capture_error" class="anchor"></a><code><span class="keyword">val</span> capture_error : <span>?&#8288;tags:<span><span>(string * string)</span> list</span></span> <span>&#45;&gt;</span> Core_kernel.Error.t <span>&#45;&gt;</span> unit</code></dt><dd><p><code>capture_error ?dsn ?message e</code> records the backtrace from <code>e</code> and uploads it to Sentry.</p><p>If you pass <code>tags</code>, it will be as if you called <code>with_tags</code> before this function.</p></dd></dl><dl><dt class="spec value" id="val-with_exn_handler"><a href="#val-with_exn_handler" class="anchor"></a><code><span class="keyword">val</span> with_exn_handler : <span>(unit <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>with_exn_handler ?dsn f</code> runs <code>f</code>. If <code>f</code> throws an exception, it will be uploaded to Sentry and then re-reraised.</p></dd></dl><dl><dt class="spec value" id="val-with_exn_handler_ignore"><a href="#val-with_exn_handler_ignore" class="anchor"></a><code><span class="keyword">val</span> with_exn_handler_ignore : <span>(unit <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>with_exn_handler ?dsn f</code> is like <code>context</code> except exceptions will not be re-raised. Use this if you're using Sentry in a loop where you want to report on errors and then continue (like in an web server).</p></dd></dl><dl><dt class="spec value" id="val-with_error_and_exn_handler"><a href="#val-with_error_and_exn_handler" class="anchor"></a><code><span class="keyword">val</span> with_error_and_exn_handler : <span>(unit <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Core_kernel.Or_error.t</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Core_kernel.Or_error.t</span></code></dt><dd><p><code>with_error_and_exn_handler ?dsn f</code> runs <code>f</code>. If <code>f</code> throws an exception or error, it will be uploaded to Sentry and then re-raised or returned. Note that <code>Error.t</code> does not handle backtraces as well as exceptions.</p></dd></dl><dl><dt class="spec value" id="val-with_async_exn_handler"><a href="#val-with_async_exn_handler" class="anchor"></a><code><span class="keyword">val</span> with_async_exn_handler : <span>(unit <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Async_kernel.Deferred.t</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Async_kernel.Deferred.t</span></code></dt><dd><p><code>with_async_exn_handler f</code> runs <code>f</code>. If <code>f</code> throws one or more exceptions, they will be uploaded to Sentry. The first raised exception willl be re-raised (multiple exceptions could be raised to the Async monitor but only one can be re-raised).</p></dd></dl><dl><dt class="spec value" id="val-with_async_exn_handler_ignore"><a href="#val-with_async_exn_handler_ignore" class="anchor"></a><code><span class="keyword">val</span> with_async_exn_handler_ignore : <span>(unit <span>&#45;&gt;</span> <span>unit Async_kernel.Deferred.t</span>)</span> <span>&#45;&gt;</span> <span>unit Async_kernel.Deferred.t</span></code></dt><dd><p>See <code>with_exn_handler_ignore</code> and <code>with_async_exn_handler</code></p></dd></dl><dl><dt class="spec value" id="val-with_async_error_and_exn_handler"><a href="#val-with_async_error_and_exn_handler" class="anchor"></a><code><span class="keyword">val</span> with_async_error_and_exn_handler : <span>(unit <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Async_kernel.Deferred.Or_error.t</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Async_kernel.Deferred.Or_error.t</span></code></dt><dd><p><code>with_async_error_and_exn_handler f</code> runs <code>f</code>. If <code>f</code> throws an exception or returns an error, it will be uploaded to Sentry and then re-raised or returned.</p></dd></dl></div></body></html>